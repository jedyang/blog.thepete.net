---
layout: post
title: "Frank: Automated Acceptance Tests for iPhone and iPad"
date: 2010-07-23T16:48:00-07:00
comments: false
---

<div class='post'>
<p>Recently I joined a team developing an iPad application. The application had no existing automated tests, and the team was under a tight deadline to deliver on promised functionality. Faced with similar circumstances in the past I have advocated introducing automated UI-driven acceptance tests to establish a loose but broad test coverage net. After a brief investigation we decided that the available tools weren't quite what we needed, so we built our own 'Frankenstein's Monster' by plumbing together several existing open source libraries to create <a href="http://github.com/moredip/Frank">a light-weight UI automation framework for iPhone and iPad applications, called Frank.</a></p><br />
<h2>How does Frank work?</h2><p>In use Frank consists of two main parts. There is a small objective-C server which is compiled into the iOS application you want to automate. You then use a remote driver from within your automated testing framework of choice to send automation commands to the Frank server and interpret the responses sent back.</p><img src="http://github.com/moredip/frank/raw/master/doc/Frank%20Architecture.png" alt="Frank Architecture Overview"><br />
<p>Currently the project includes a Cucumber driver. Creating additional drivers (for RSpec, NUnit or JBehave perhaps) is a pretty trivial task, as the Frank server provides just a few key commands.</p><br />
<h2>I don't get it. Show me moving pictures!</h2><p>Here is a brief screencast which demonstrates a Cucumber test suite exercising the functionality of a simple iPhone app via Frank. [<a target="_blank" href="http://sl.thepete.net/frank_ea_demo">Click Here</a> to watch the screencast in a larger window]</p><object id="scPlayer" class="embeddedObject" width="950" height="642" type="application/x-shockwave-flash" data="http://content.screencast.com/users/PeteHodgson/folders/Jing/media/0f35802c-684a-49bd-bb7a-b141e4d2c689/jingswfplayer.swf" >  <param name="movie" value="http://content.screencast.com/users/PeteHodgson/folders/Jing/media/0f35802c-684a-49bd-bb7a-b141e4d2c689/jingswfplayer.swf" /><param name="quality" value="high" /><param name="bgcolor" value="#FFFFFF" /><param name="flashVars" value="thumb=http://content.screencast.com/users/PeteHodgson/folders/Jing/media/0f35802c-684a-49bd-bb7a-b141e4d2c689/FirstFrame.jpg&containerwidth=950&containerheight=642&content=http://content.screencast.com/users/PeteHodgson/folders/Jing/media/0f35802c-684a-49bd-bb7a-b141e4d2c689/00000015.swf&blurover=false" /><param name="allowFullScreen" value="true" /><param name="scale" value="showall" /><param name="allowScriptAccess" value="always" /><param name="base" value="http://content.screencast.com/users/PeteHodgson/folders/Jing/media/0f35802c-684a-49bd-bb7a-b141e4d2c689/" /></object><br />
<p>You can see the Cucumber scenarios and then watch as the Frank driver automates the application in the iPhone simulator, restarting the application between each scenario.</p><br />
<h2>Anything else?</h2><p>Frank has additional functionality which I haven't gone into here. There is a javascript web app called Symbiote which is embedded within your iOS app itself. This allows you to interact with your iOS application as it's running, testing UI selection paths and inspecting the application's DOM in realtime. We also provide Cucumber steps for utility tasks such as recording a test run to video (great for debugging a failing acceptance test within a CI system), rotating the simulated device, and restarting the application between scenarios to ensure independent tests.</p><br />
<h2>Where can I get it?</h2>Frank (plus some more documentation) can be found on github <a href="http://github.com/moredip/Frank">right here</a>.<br />
<br />
<h2>What's coming?</h2><p>The next important step is including our automated acceptance tests within a Continuous Integration build. We intend to run Frank tests upon every checkin, much as you would run Selenium tests for a web application. A failing test will break the build, emailing the team with a video showing the failing test.</p><p>I'm also planning to blog about specific aspects of Frank in greater depth in coming weeks.</p><p>Please do <a href="http://github.com/moredip/Frank">check Frank out</a>, and get in touch if you have any feedback, feature requests, bug reports, or anything else!</p></div>
